---
layout: post
title: Linux C语言
date: 2019-07-19
categories: test
tags: C
---

Linux C语言

- `#include <stdio.h>`预处理器指令,在编译之前要包含stdio.h文件
- C是区分大小写的编程语言
- 标识符是用来标识变量/函数/或者其他用户自定义项目的名称
  - 以字母或者下划线开头
  - 数字/字母/下划线组成

|  关键字  |                        说明                        |
| :------: | :------------------------------------------------: |
|   auto   |                    声明自动变量                    |
|   case   |                    开关语句分支                    |
|   char   |           声明字符型变量或函数返回值类型           |
|  const   |                    声明只读变量                    |
| default  |                开关语句中的其他分支                |
|  double  |         声明双精度浮点型变量或函数返回类型         |
|   enum   |                    声明枚举类型                    |
|  extern  | 声明变量或函数是在其他文件或本文件的其他位置定义的 |
|  float   |           声明浮点型变量或函数返回值类型           |
|   goto   |                   无条件跳转语句                   |
|   int    |                 声明整型变量或函数                 |
|   long   |           声明长整型变量或函数返回值类型           |
|  short   |                声明短整型变量或函数                |
| register |                   声明寄存器变量                   |
|  signed  |              声明有符号类型变量或函数              |
| unsigned |              声明无符号类型变量或函数              |
|  sizeof  |        计算数据类型或变量长度(即所占字节数)        |
|  static  |                    声明静态变量                    |
|  struct  |                   声明结构体类型                   |
| typedef  |                  给数据类型取别名                  |
|  union   |                   声明共用体类型                   |
|   void   |     声明函数无返回值或者无参数,声明无类型指针      |
| volatile |         说明变量在程序执行中可被隐含地改变         |
|          |                                                    |

#### 数据类型

- 基本类型

  - 整数类型

    | 类型  | 存储大小/字节 |               值范围                |
    | :---: | :-----------: | :---------------------------------: |
    | char  |       1       |          -128~127 / 0~255           |
    |  int  |      2/4      | -32768~32767/-2147483648~2147483647 |
    | short |       2       |            -32768~32767             |
    | long  |       4       |       -2147483648~2147483647        |
    |       |               |                                     |

  - 浮点类型

    |    类型     | 存储大小 |       值范围        | 精度 |
    | :---------: | :------: | :-----------------: | :--: |
    |    float    |    4     |   1.2E-38~3.4E+38   | 6位  |
    |   double    |    8     |  2.3E-304~1.7E+308  | 15位 |
    | long double |    16    | 3.4E-4932~1.1E+4932 | 19位 |
    |             |          |                     |      |

- void类型

  - 函数返回为空(不返回值的函数函数返回类型为空)
  - 函数参数为空
  - 指针指向void

- 枚举类型

- 派生类型

  - 指针类型
  - 数组类型
  - 结构类型
  - 共用体类型
  - 函数类型

- vi
  - sp 文件名 创建文件
  - set nu 显示行号
  - ndd 剪切
  - p 粘贴
  - wqa 把所有的文件保存退出

- gcc 文件1 文件2 -o //要输出的文件名

- gcc -c xx.c -o xx.o  //创建一个静态库

- rm *.o //所有以.o结尾的文件都要删除

- 借助make :把大型的开发项目分成若干个易于管理的模块

- make -v 查看make 信息 版本

- 没有make的话 就sudo apt-get install make

- `#` 注释

- 编译过的文件 下一次执行就不需要编译

- main（）函数的完整参数 main（int argc，char * argv[]）

  - argc:argument count 统计参数个数
  - argv:argument vector 存储参数具体值

- 检验程序是否正常执行  echo $? 返回值为0 时正常执行

- && 连接两个代码 一起执行

- %s 字符串

- fprintf(stdin,"");等于printf(""); 输入流

- int a;fscanf(stdout,"%d",&a);等于scanf("%d",&a); 输出流

- stderr 错误流

  ```
  标准输入流 输出流 错误流
  stdin 默认屏幕 0
  stdout 默认键盘 1
  stderr 2
  linux 把所有东西当做文件处理
  printf("")是对fprintf(stdout,"")函数的封装
  scanf("")是的fscanf(stdin,"")函数的封装
  ```

- 输出流的重定向 >> 追加模式 >覆盖模式

- 输入流重定向<文件名

- 错误流重定向2>文件名或者2>>文件名

- "|" 在linux中作为管道,用于连接两个独立的小程序建立通道,比如将"ls"的输出结果传给"grep"的输入`ls /etc/ | grep aaa`

- grep:查询包含制定字符的文件

- ps -e:查看当前正在运行的进程

#### 变量

- 变量的定义就是要告诉编译器在何处创建变量的存储,以及如何创建变量的存储

#### 常量

- 常量是固定值,在程序执行期间不会改变.这些固定的值,又叫做字面量.定义后不能被修改

#### 存储类

- auto 存储类是所有局部变量默认的存储类(只能在函数内部)
- register 存储类用于定义存储在寄存器中而不是RAM中的局部变量,不能对他使用&
- static 存储类
  - 使用static修饰局部变量可以在函数调用之间保持局部变量的值
  - 修饰全局变量时,会使变量的作用域限制在声明它的文件内

|  运算符  |      描述      |          实例          |
| :------: | :------------: | :--------------------: |
| sizeof() | 返回变量的大小 | sizeof(a)返回4 a是整数 |
|    &     | 返回变量的地址 |          &a;           |
|    *     |  指向一个变量  |     *a指向一个变量     |
|    ?:    |   条件表达式   |       三元运算符       |
|          |                |                        |

#### 无限循环

- for(;;){}

#### 内置函数

- strcat()连接两个字符串
- memcpy() 用来复制内存到另一个位置

#### 函数参数

- 传值调用 :该方法把参数的实际值复制给函数的形式参数,在这种情况下,修改函数内的形式参数不会影响到实际参数.
- 引用调用:通过指针传递方式,形参为指向实参地址的指针,当对形参的指向操作时,就相当于对实参本身进行的操作.

```
全局变量与局部变量在内存中的区别:
- 全局变量保存在内存的全局存储区中,占用静态的存储单元
- 局部变量保存在栈中,只有在所在函数被调用时才动态地为变量分配存储单元
```

- static 修饰一个函数时,则这个函数只能在本文件中调用,不能被其他文件调用
- 在函数体内声明的自动变量的值是随机的,除非它被显示初始化,而在函数体外被声明的自动变量也会被初始化为0
- 当局部变量被定义时,系统不会对其初始化,您必须自行对其初始化.定义全局变量时,系统会自动对其初始化

| 数据类型 | 初始化默认值 |
| :------: | :----------: |
|   int    |      0       |
|   char   |     '\0'     |
|  float   |      0       |
|  double  |      0       |
| pointer  |     NULL     |
|          |              |

#### gdb调试模式

- start 单步执行
- n 执行
- bt 查看函数栈
- f num 切换函数栈
- s 进入子函数
- p/print 变量名
- q 退出调试

#### 内存管理

- 系统内核
- 栈
- 自由可分配内存
- 堆
- 数据段
  - global
- 代码段

- 变量的本质是内存,指针的本质是地址













