---
layout: post
title: React
date: 2019-11-22
categories: test
tags: React

---

# React

### JSX

```react
const element = <h1>hello,world!</h1>;
```

这个有趣的标签语法,既不是字符串也不是html

### AJAX

```react
fetch(url,{
	method:"POST",
	headers:{
		'Content-Type':'application/json'
	},
	data:myData
})
.then((response)=>{
	return response->json()
})
.then((res)=>{
	console.log(res)
})
.catch((err)=>{
	console.log(err)
})
```

### 复制对象

```react
var obj1 = {age:1}
//复制
var obj2 = {...obj1}
obj2.age = 18
console.log(obj2)//{age:18}
console.log(obj1)//{age:1}
```

### 组件

```react
function Product(props){
	return (
		<div>
      <div>{props.name}</div>
      <div>¥{props.price}元</div>
    </div>
	)
}

let product = {name:'特仑苏',price:123}

let element = (
  <div>
    <Product name={product.name} price={product.price}></Product>
    <Product {...product}></Product>
  </div>
)
```

也可以用ES6的class来定义组件

```react
class Product extends React.Component{
  render(){
   return (
      <div>
        <div>{props.name}</div>
        <div>{props.price}元</div>
      </div>
    ) 
  }
}
```

### 事件

```react
//阻止默认事件
//比如a标签的跳转
event.preventDefault()
```

### 事件中改变state的值

```react
this.setState({data:newData})
```

### 事件中this的作用域

为了防止this的指向问题

```react
class中的function 都这样写

handleChange = ()=>{}
```

### 在标签中写css

````react
<Button style={{color:'red'}}></Button>
````

### 箭头函数 如果只有一个return 可以省略return 和花括号

```react
let navItem = links.map((item)=>
	<NavItem key={item.id} data={item}></NavItem>
)
                        
//等同于以下
let navItem = links.map((item)=>{
	return <NavItem key={item.id} data={item}></NavItem>
})
```

### react哲学

单一功能原则

根据单一功能原则来判定组件的范围,也就是说,一个组件原则上值负责一个功能,如果它需要负责更多的功能,这时候就需要考虑将它拆分为更小的组件

当构建应用的静态版本时,我们需要创建要重用其他组件的组件,然后通过props传入所需的数据,不应该使用state构建静态版本

当你的应用比较简单时,使用自上而下的方式更方便,对于较为大型的项目来说,自下而上的构建,并同时为更小的低层组件编写测试是更加简单的方式